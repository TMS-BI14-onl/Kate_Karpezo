--2.	Напишите скрипт для получения 1 млн человек с различными именами и фамилиями

select *
from MOCK_DATA


select *
from Names	

	USE AdventureWorks2017
	CREATE TABLE Names
	(
		ID			INT IDENTITY(1,1),
		first_name	NVARCHAR(50),
		last_name	NVARCHAR(50),
			)
	INSERT INTO Names
	SELECT *
	FROM MOCK_DATA
	ORDER BY newid()


	SELECT n.first_name, n.last_name
	FROM Names n
	CROSS JOIN MOCK_DATA m
	ORDER BY newid()


	DROP TABLE NAMES
	
	
	/*
	3.	Познакомьтесь с обобщенным табличным выражением WITH. Когда можем использовать данную структуру? Чем отличается от подзапроса?  

	Обобщенное табличное выражение или CTE (Common Table Expressions) - это временные результаты запроса, которые можно использовать множество раз в других запросах.
	Выражение с WITH считается «временным», потому что результат не сохраняется где-либо на постоянной основе в схеме базы данных, 
	а действует как временное представление, которое существует только на время выполнения запроса. 
		
		Основные способы использования:
	- для улучшения читаемости запроса в случае сложных запросов (разительно уменьшают размер кода);
	- в случаях, когда нужно много раз обращаться к одним и тем же таблицам/выборкам из таблиц;
	- для создания представлений (VIEW) в части select;
	- для написания рекурсивных запросов.
		
		Отличия от вложенного запроса:
	- вложенный запрос повторяется для каждой строки из выборки, что повышает стоимость выполнения запроса.
		
		Отличия от временной таблицы:
	- заполнение временной таблицы при больших объемах создает нагрузку на диск;
	- исполнение запросов с использованием временной таблицы увеличивает время их выполнения из-за места хранения данного типа таблиц (tempdb).
		*/
